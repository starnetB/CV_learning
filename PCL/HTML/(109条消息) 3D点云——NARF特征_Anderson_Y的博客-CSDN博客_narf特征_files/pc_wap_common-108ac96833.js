!function(){function getClass(e){if(void 0!==typeof e&&null!==e&&""!==e)return e=e.toLowerCase(),class_name="hl-1",class_name}function isEmpty(e){return void 0===e||null===e||""===e}function mergeKeyword(e,t){isEmpty(t)||(t=t.toLowerCase().replace(/(^\s*)|(\s*$)/g,""),isEmpty(t)||(t.indexOf(" ")>0?$.each(t.split(/ +/g),function(t,n){mergeKeyword(e,n)}):"..."!==t&&t.length>1&&"&nbsp;"!==t&&"csdn"!==t&&"||"!==t&&(e[t]=0)))}function getKeyword(e){var t={};keyword=e.join(" "),mergeKeyword(t,keyword);var n=Object.keys(t);return n.sort(function(e,t){return t.length-e.length}),n}function hlDocument(keyword_list,document){for(var body=document.html(),htmlBody="",textChildrenArr=document.context.childNodes,idx=0;idx<textChildrenArr.length;idx++){var item=textChildrenArr[idx];if("#text"===item.nodeName){var curText=item.textContent.replace(/</gi,"&lt;"),regex=eval("/"+keyword_list.join("|")+"/ig");curText=curText.replace(regex,function(e){var t=e.toLowerCase(),n="https://so.csdn.net/so/search?from=pc_blog_highlight&q="+encodeURIComponent(e);return cache[t]>=3||preHlKeyword===t?e.replace(/</gi,"&lt;"):(cache[t]=cache[t]?cache[t]+1:1,preHlKeyword=t,'<a href="'+n+'" target="_blank" class="hl '+getClass(t)+'">'+e+"</a>")}),htmlBody+=curText}else htmlBody+=item.outerHTML}document[0].innerHTML=htmlBody}function initHighlight(){window.keyword_list_init=!0,$.ajax({type:"GET",url:"https://redisdatarecall.csdn.net/recommend/get_head_word?bid=blog-"+articleId,dataType:"json",timeout:1e3,xhrFields:{withCredentials:!0},success:function(e){if(200==e.status&&e.content){var t=getKeyword(e.content);if(void 0===t||0===t.length)return;window.keyword_list=t;var n=$("#content_views").find("p,h1,h2,h3,h4,h5,h6");window.keyword_list_doms=n,$.each(n,function(e,n){var n=$(n);hlDocument(t,n)})}}})}function isApp(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}var id=1,cache={},preHlKeyword="",showHeadWord=void 0!==window.showHeadWord&&window.showHeadWord;!isApp()&&showHeadWord&&initHighlight()}(),function(e,t){"use strict";function n(){var e=t.createElement("style");e.type="text/css",e.innerHTML=u(".{0}{border-collapse:collapse}            .{0} td{padding:0}            .{1}{text-align: right;padding-right: 8px;}            .{1}:before{content:attr({2})}",[m,b,j]),t.getElementsByTagName("head")[0].appendChild(e)}function i(n){"complete"===t.readyState?r(n):e.addEventListener("DOMContentLoaded",function(){r(n)})}function r(n){try{var i=t.querySelectorAll("code.hljs");for(var r in i)i.hasOwnProperty(r)&&o(i[r],n)}catch(s){e.console.error("LineNumbers error: ",s)}}function o(e,t){if("object"==typeof e){t=t||{singleLine:!1};var n=t.singleLine?0:1;h(function(){a(e),e.innerHTML=s(e.innerHTML,n),Array.apply(null,e.childNodes).forEach(p)})}}function s(e,t){var n=d(e);if(""===n[n.length-1].trim()&&n.pop(),n.length>t){for(var i="",r=0,o=n.length;r<o;r++)i+=u('<li><div class="{0}"><div class="{1} {2}" {3}="{5}"></div></div><div class="{4}"><div class="{1}">{6}</div></div></li>',[y,w,b,j,v,r+1,n[r].length>0?n[r]:" "]);return u('<ol class="{0}">{1}</ol>',[m,i])}return e}function a(e){var t=e.childNodes;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];c(i.textContent)>0&&(i.childNodes.length>0?a(i):l(i.parentNode))}}function l(e){var t=e.className;if(/hljs-/.test(t)){for(var n=d(e.innerHTML),i=0,r="";i<n.length;i++)r+=u('<span class="{0}">{1}</span>\n',[t,n[i]]);e.innerHTML=r.trim()}}function d(e){return 0===e.length?[]:e.split(x)}function c(e){return(e.trim().match(x)||[]).length}function h(t){e.setTimeout(t,0)}function u(e,t){return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]?t[n]:""})}function p(e,t,n){var i,r={id:0,length:0},o=Array.apply(null,e.childNodes),s={hundred:100,thousand:1e3};o.forEach(function(e,t,n){if(1==e.nodeType&&e.getElementsByClassName("hljs-ln-code").length){var o=e.getElementsByClassName("hljs-ln-code")[0].offsetWidth;switch(t){case s.hundred:i="hundred";break;case s.thousand:i="thousand"}o>r.length&&(r.length=o,r.id=t)}});var a=e.parentNode.offsetWidth,l=o[r.id];if(void 0!=l&&1==l.nodeType&&(void 0!=i&&(e.className=e.className+" "+i),l.getElementsByClassName("hljs-ln-numbers").length)){var d=l.getElementsByClassName("hljs-ln-numbers")[0].offsetWidth,c=l.getElementsByClassName("hljs-ln-code")[0].offsetWidth;a<d+c+C?e.setAttribute("style","width:"+(d+c+C)+"px"):g()||f()||e.setAttribute("style","width:930px")}}function g(){return!!window.navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian|windows phone)/i)}function f(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}var m="hljs-ln",w="hljs-ln-line",v="hljs-ln-code",y="hljs-ln-numbers",b="hljs-ln-n",j="data-line-number",x=/\r\n|\r|\n/g,C=50;e.hljs?(e.hljs.initLineNumbersOnLoad=i,e.hljs.lineNumbersBlock=o,e.hljs.getLines=d,n()):e.console.error("highlight.js not detected!")}(window,document),$(function(){function e(){hljs.initHighlighting(),"ie"!==o&&hljs.initCopyButtonOnLoad(),hljs.initLineNumbersOnLoad(),$("pre .language-plain").length>0&&$("pre .language-plain").each(function(e,t){var n=hljs.highlightAuto(r(t.innerHTML));t.innerHTML=n.value,t.className="language-"+n.language})}var t=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,n={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},i=function(e,t){return n[t]},r=function(e){return e.replace(t,i)},o=function(){var e=window.navigator.userAgent,t=function(t){return e.indexOf(t)>=0},n=function(){return"ActiveXObject"in window}();return t("MSIE")||n?"ie":t("Firefox")&&!n?"Firefox":t("Chrome")&&!n?e.indexOf("Edge")>-1?"Edge":"Chrome":t("Opera")&&!n?"Opera":t("Safari")&&!n?"Safari":void 0}();$("#content_views").hasClass("htmledit_views")&&($("#content_views pre").find("code").addClass("hljs"),e())}),function(){function e(){return!!window.navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian|windows phone)/i)}function t(t){var n=e()?"get"==t.type?"1001.2101.3001.6708":"1001.2101.3001.6867":"get"==t.type?"1001.2101.3001.6707":"1001.2101.3001.6866",i="",o=t.tree,s='<div class="skill-tree-head">'+("get"==t.type?"文章已被收录至官方知识档案":e()?"文章知识点与官方知识档案匹配":"文章知识点与官方知识档案匹配，可进一步学习相关知识")+"</div>",a=document.createElement("div");if(a.classList.add("skill-tree-box"),e())for(var l=0;l<o.length;l++){var d=o[l],c=' data-report-click=\'{"spm":"'+n+'","dest":"'+d.url+"\"}' ",h=' href="'+d.url+'" target="_blank" ',u='<div class="skill-tree-href"><span>'+d.tree.join("</span><i></i><span>")+"</span></div>",p='<div class="skill-tree-con"><span class="skill-tree-count">'+d.studyCount+"</span> 人正在系统学习中</div>",g='<a class="skill-tree-item" '+c+h+">"+u+p+"</a>";i+=g}else for(var l=0;l<o.length;l++){var d=o[l],c=' data-report-click=\'{"spm":"'+n+'","dest":"'+d.url+"\"}' ",h=' href="'+d.url+'" target="_blank" ',u='<span class="skill-tree-href"><a'+c+h+">"+d.tree.join("</a><i></i><a"+c+h+">")+"</a></span>",p='<span class="skill-tree-con"><span class="skill-tree-count">'+d.studyCount+"</span> 人正在系统学习中</span>",g='<div class="skill-tree-item">'+u+p+"</div>";i+=g}var f='<div class="skill-tree-body">'+i+"</div>";i=s+f,a.innerHTML=i,r.appendChild(a),r.setAttribute("data-report-view",JSON.stringify({spm:n})),r.style.display="block"}function n(){window.keyword_list_init=!0,$.ajax({type:"GET",url:(e()?base_url:blogUrl)+"/phoenix/web/v2/skill-tree-info?articleId="+articleId,dataType:"json",timeout:1500,xhrFields:{withCredentials:!0},success:function(e){200==e.code&&e.data&&e.data.tree.length>0?t(e.data):r.remove()}})}function i(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}var r=document.getElementById("treeSkill");r&&(i()||n())}();