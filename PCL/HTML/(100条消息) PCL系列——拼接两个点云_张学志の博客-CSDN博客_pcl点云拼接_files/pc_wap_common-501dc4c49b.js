!function(){function getClass(e){if(void 0!==typeof e&&null!==e&&""!==e)return e=e.toLowerCase(),class_name="hl-1",class_name}function isEmpty(e){return void 0===e||null===e||""===e}function mergeKeyword(e,n){isEmpty(n)||(n=n.toLowerCase().replace(/(^\s*)|(\s*$)/g,""),isEmpty(n)||(n.indexOf(" ")>0?$.each(n.split(/ +/g),function(n,t){mergeKeyword(e,t)}):"..."!==n&&n.length>1&&"&nbsp;"!==n&&"csdn"!==n&&"||"!==n&&(e[n]=0)))}function getKeyword(e){var n={};keyword=e.join(" "),mergeKeyword(n,keyword);var t=Object.keys(n);return t.sort(function(e,n){return n.length-e.length}),t}function hlDocument(keyword_list,document){for(var body=document.html(),htmlBody="",textChildrenArr=document.context.childNodes,idx=0;idx<textChildrenArr.length;idx++){var item=textChildrenArr[idx];if("#text"===item.nodeName){var curText=item.textContent.replace(/</gi,"&lt;"),regex=eval("/"+keyword_list.join("|")+"/ig");curText=curText.replace(regex,function(e){var n=e.toLowerCase(),t="https://so.csdn.net/so/search?from=pc_blog_highlight&q="+encodeURIComponent(e);return cache[n]>=3||preHlKeyword===n?e.replace(/</gi,"&lt;"):(cache[n]=cache[n]?cache[n]+1:1,preHlKeyword=n,'<a href="'+t+'" target="_blank" class="hl '+getClass(n)+'">'+e+"</a>")}),htmlBody+=curText}else htmlBody+=item.outerHTML}document[0].innerHTML=htmlBody}function initHighlight(){window.keyword_list_init=!0,$.ajax({type:"GET",url:"https://redisdatarecall.csdn.net/recommend/get_head_word?bid=blog-"+articleId,dataType:"json",timeout:1e3,xhrFields:{withCredentials:!0},success:function(e){if(200==e.status&&e.content){var n=getKeyword(e.content);if(void 0===n||0===n.length)return;window.keyword_list=n;var t=$("#content_views").find("p,h1,h2,h3,h4,h5,h6");window.keyword_list_doms=t,$.each(t,function(e,t){var t=$(t);hlDocument(n,t)})}}})}function isApp(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}var id=1,cache={},preHlKeyword="",showHeadWord=void 0!==window.showHeadWord&&window.showHeadWord;!isApp()&&showHeadWord&&initHighlight()}(),function(e,n){"use strict";function t(){var e=n.createElement("style");e.type="text/css",e.innerHTML=u(".{0}{border-collapse:collapse}            .{0} td{padding:0}            .{1}{text-align: right;padding-right: 8px;}            .{1}:before{content:attr({2})}",[m,b,j]),n.getElementsByTagName("head")[0].appendChild(e)}function i(t){"complete"===n.readyState?r(t):e.addEventListener("DOMContentLoaded",function(){r(t)})}function r(t){try{var i=n.querySelectorAll("code.hljs");for(var r in i)i.hasOwnProperty(r)&&o(i[r],t)}catch(a){e.console.error("LineNumbers error: ",a)}}function o(e,n){if("object"==typeof e){n=n||{singleLine:!1};var t=n.singleLine?0:1;h(function(){s(e),e.innerHTML=a(e.innerHTML,t),Array.apply(null,e.childNodes).forEach(g)})}}function a(e,n){var t=d(e);if(""===t[t.length-1].trim()&&t.pop(),t.length>n){for(var i="",r=0,o=t.length;r<o;r++)i+=u('<li><div class="{0}"><div class="{1} {2}" {3}="{5}"></div></div><div class="{4}"><div class="{1}">{6}</div></div></li>',[y,w,b,j,v,r+1,t[r].length>0?t[r]:" "]);return u('<ol class="{0}">{1}</ol>',[m,i])}return e}function s(e){var n=e.childNodes;for(var t in n)if(n.hasOwnProperty(t)){var i=n[t];c(i.textContent)>0&&(i.childNodes.length>0?s(i):l(i.parentNode))}}function l(e){var n=e.className;if(/hljs-/.test(n)){for(var t=d(e.innerHTML),i=0,r="";i<t.length;i++)r+=u('<span class="{0}">{1}</span>\n',[n,t[i]]);e.innerHTML=r.trim()}}function d(e){return 0===e.length?[]:e.split(x)}function c(e){return(e.trim().match(x)||[]).length}function h(n){e.setTimeout(n,0)}function u(e,n){return e.replace(/\{(\d+)\}/g,function(e,t){return n[t]?n[t]:""})}function g(e,n,t){var i,r={id:0,length:0},o=Array.apply(null,e.childNodes),a={hundred:100,thousand:1e3};o.forEach(function(e,n,t){if(1==e.nodeType&&e.getElementsByClassName("hljs-ln-code").length){var o=e.getElementsByClassName("hljs-ln-code")[0].offsetWidth;switch(n){case a.hundred:i="hundred";break;case a.thousand:i="thousand"}o>r.length&&(r.length=o,r.id=n)}});var s=e.parentNode.offsetWidth,l=o[r.id];if(void 0!=l&&1==l.nodeType&&(void 0!=i&&(e.className=e.className+" "+i),l.getElementsByClassName("hljs-ln-numbers").length)){var d=l.getElementsByClassName("hljs-ln-numbers")[0].offsetWidth,c=l.getElementsByClassName("hljs-ln-code")[0].offsetWidth;s<d+c+C?e.setAttribute("style","width:"+(d+c+C)+"px"):f()||p()||e.setAttribute("style","width:930px")}}function f(){return!!window.navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian|windows phone)/i)}function p(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}var m="hljs-ln",w="hljs-ln-line",v="hljs-ln-code",y="hljs-ln-numbers",b="hljs-ln-n",j="data-line-number",x=/\r\n|\r|\n/g,C=50;e.hljs?(e.hljs.initLineNumbersOnLoad=i,e.hljs.lineNumbersBlock=o,e.hljs.getLines=d,t()):e.console.error("highlight.js not detected!")}(window,document),$(function(){function e(){hljs.initHighlighting(),"ie"!==o&&hljs.initCopyButtonOnLoad(),hljs.initLineNumbersOnLoad(),$("pre .language-plain").length>0&&$("pre .language-plain").each(function(e,n){var t=hljs.highlightAuto(r(n.innerHTML));n.innerHTML=t.value,n.className="language-"+t.language})}var n=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,t={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},i=function(e,n){return t[n]},r=function(e){return e.replace(n,i)},o=function(){var e=window.navigator.userAgent,n=function(n){return e.indexOf(n)>=0},t=function(){return"ActiveXObject"in window}();return n("MSIE")||t?"ie":n("Firefox")&&!t?"Firefox":n("Chrome")&&!t?e.indexOf("Edge")>-1?"Edge":"Chrome":n("Opera")&&!t?"Opera":n("Safari")&&!t?"Safari":void 0}();$("#content_views").hasClass("htmledit_views")&&($("#content_views pre").find("code").addClass("hljs"),e())}),function(){function e(){return!!window.navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian|windows phone)/i)}function n(n){for(var t=e()?"1001.2101.3001.6708":"1001.2101.3001.6707",i=0;i<n.length;i++){var o="",a=n[i],s=document.createElement("div");s.classList.add("skill-tree-box");var l=' data-report-click=\'{"spm":"'+t+'","dest":"'+a.url+"\"}' ",d=' href="'+a.url+'" target="_blank" ',c="<a"+l+d+">"+a.tree.join("</a><i></i><a"+l+d+">")+"</a>";o+="文章已被收录至官方知识档案"+c,s.innerHTML=o,r.appendChild(s)}r.setAttribute("data-report-view",JSON.stringify({spm:t})),r.style.display="block"}function t(){window.keyword_list_init=!0,$.ajax({type:"GET",url:"https://blog.csdn.net/phoenix/web/v1/skill-tree-info?articleId="+articleId,dataType:"json",timeout:1500,xhrFields:{withCredentials:!0},success:function(e){200==e.code&&e.data.length>0?n(e.data):r.remove()}})}function i(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}var r=document.getElementById("treeSkill");r&&(i()||t())}();