(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{497:function(e,t,n){"use strict";var o=n(58),r=n.n(o),a=n(22),c=n.n(a),i=n(25),s=n.n(i),l=n(26),u=n.n(l),m=n(31),f=n.n(m),d=n(17),b=n.n(d),p=n(24),h=n.n(p),g=n(46),O=n.n(g),v=n(104),C=n.n(v),j=n(34),y=n.n(j),x=n(73),w=n.n(x),k=n(1),I=n.n(k),S=n(2),T=n.n(S),L=n(50),A=n.n(L),z=n(23),N=n(42),B=n(9),E=n(5),H=n(56),R=n(515),F=n(587),M=n(1107),_=n(1108),U=n(586),P=n(18),D=n(260),G=n(92),K=n(19),Z=n(3),V=n(79),q=n(166),W=n(158),J=n(40),X=n(164),Y=n(70),Q=n(277),$=n.n(Q),ee=n(120),te=n(47),ne=(n(419),n(221)),oe=n(1112),re=n(85),ae=["user","className","badgeSize","isHybrid"],ce=["query","children","innerStyle","innerRef","onClick"],ie=["name","className","defaultClassName","size","center"];function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f()(this,n)}}var le=function(e){var t=e.user,n=e.className,o=e.badgeSize,r=void 0===o?14:o,a=e.isHybrid,c=y()(e,ae),i=t.avatarUrl,s=t.badge,l=t.badgeV2,u=t.isOrg,m=t.id,f=Object(J.e)(),d=a?30:24,b="0"===m||""===m,p=Object(Z.f)(I.a.Fragment,null,Object(Z.f)(E.Image,{size:d,src:i,css:Object(G.a)({borderRadius:a?"50%":"2px"},";label:content;"),className:n}),(null!=l?l:s)&&a&&Object(Z.f)(W.c,{size:r,badge:null!=l?l:s,css:Object(W.e)(2*r,r)}));return b?Object(Z.f)("span",c,p):Object(Z.f)(E.Box,{size:d,css:Object(G.a)(Object.assign({position:"relative"},f),";label:Avatar;"),className:n},Object(Z.f)(X.b,{href:"https://www.zhihu.com/".concat(u?"org":"people","/").concat(m),zaType:"Image",onClick:function(e){B.a.trackEvent(e.target,{id:1200,action:"OpenUrl",element_name:"User"})}},p))},ue={400:"请求参数有误",401:"用户认证失败",403:"服务已拒绝",404:"资源不存在",405:"请求方式有误",410:"资源已解散",502:"网关错误",503:"服务无响应",504:"网关超时"},me=function(e){return function(){var t=C()(O.a.mark((function t(n){var o,r,a,c,i=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>1&&void 0!==i[1]?i[1]:{},t.next=3,e(n,o);case 3:if(r=t.sent,t.prev=4,a=r.headers.get("content-type"),c=null,!a||-1===a.indexOf("application/json")||204===r.status){t.next=13;break}return t.next=10,r.json();case 10:c=t.sent,t.next=18;break;case 13:return t.t0=JSON,t.next=16,r.text();case 16:t.t1=t.sent,c=t.t0.parse.call(t.t0,t.t1);case 18:if(c=Object(K.camelizeKeys)(c),r.ok&&!c.error){t.next=22;break}throw c.toastMsg=c.error.message,c;case 22:return t.abrupt("return",c);case 25:throw t.prev=25,t.t2=t.catch(4),t.t2.status=r.status,t.t2;case 29:case"end":return t.stop()}}),t,null,[[4,25]])})));return function(e){return t.apply(this,arguments)}}()},fe=function(e){return function(){var t=C()(O.a.mark((function t(n,o){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n,o);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),400===t.t0.status&&18e4===t.t0.code&&N.a.supportsAction("base/unLockAccount").then((function(e){return e&&N.a.dispatch("base/unLockAccount")})),t.t0.toastMsg||(t.t0.toastMsg=ue[t.t0.status]||"操作失败"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()},de=function(){throw new Error("Not implemented")},be=!1,pe=!1,he=function(){var e=C()(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe){e.next=3;break}return e.next=3,pe=!0,N.a.ready().catch((function(){be=!0}));case 3:if(!be){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,N.a.dispatch("account/showLoginDialog",{next:t}).catch((function(e){return e}));case 7:if("object"!=typeof(n=e.sent)||"ERR_AUTH_ALREADYLOGIN"!==n.name&&"ERR_ACOUNT_NOTGUEST"!==n.name){e.next=11;break}return be=!0,e.abrupt("return",be);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=Object(k.createContext)({data:null,dispatch:A.a,authRequired:A.a}),Oe="LOAD_COMMENT_PREVIEW",ve="TOGGLE_LIKE",Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;if(n===Oe)return Object(K.camelizeKeys)(o);if(n===ve){var r=o.id,a=o.nextAction,c=o.rootCommentId;return Object.assign(Object.assign({},e),{},{data:e.data.map((function(e){return c?c!==e.id?e:Object.assign(Object.assign({},e),{},{childComments:e.childComments.map((function(t){return t.id!==r?t:Object.assign(Object.assign({},t),{},{likeCount:e.likeCount+("like"===a?1:-1),liked:"like"===a})}))}):e.id!==r?e:Object.assign(Object.assign({},e),{},{likeCount:e.likeCount+("like"===a?1:-1),liked:"like"===a})}))})}return e},je=function(e){var t=e.children,n=e.resourceType,o=e.resourceId,r=e.redirectUrl,a=e.requestHost,c=e.commentUnfoldable,i=e.showInteractions,s=void 0===i||i,l=e.showSecondaryComment,u=e.showSecondaryCommentButton,m=e.showLevelInfo,f=e.listHeight,d=e.maskTransparent,b=e.noZACardShow,p=e.preProxy,g=e.onAllCommentsShow,O=void 0===g?A.a:g,v=e.openInApp,C=void 0===v?A.a:v,j=Object(k.useReducer)(Ce,null),y=h()(j,2),x=y[0],w=y[1],I=Object(z.c)(function(e){return Object(ee.d)("undefined"!=typeof fetch?fetch:de,[e,fe,me].filter(Boolean))}(p)),S=Object(z.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://www.zhihu.com";return function(t){return function(n){var o=n.target;return he(e).then((function(e){if(e)return t(o)}))}}}(r)),T=Object(z.c)((function(e){for(var t="//".concat(null!=a?a:location.host),n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return I.apply(void 0,["".concat(t).concat(e)].concat(o))}));return Object(Z.f)(ge.Provider,{value:{data:x,dispatch:w,authRequired:S,fetcher:T,resourceType:n,resourceId:o,commentUnfoldable:c,showInteractions:s,showSecondaryComment:l,showSecondaryCommentButton:u,showLevelInfo:m,noZACardShow:b,onAllCommentsShow:O,listHeight:f,maskTransparent:d,openInApp:C}},t)};function ye(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=null;return function(){var r=Date.now();if(!n&&!o||r-o<t){o||(o=r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e.apply(this,c)}o=r}}var xe=I.a.forwardRef((function(e,t){var n=e.query,o=void 0===n?{}:n,r=e.children,a=e.innerStyle,c=e.innerRef,i=e.onClick,s=y()(e,ce),l=Object(k.useContext)(ge),u=l.resourceType,m=l.resourceId,f=l.onAllCommentsShow,d=l.listHeight,b=l.maskTransparent,p=l.openInApp,h=o.rootCommentId,g=o.anchorCommentId,O=o.openEditor,v=o.replyAuthorName,C=Object(V.b)(),j=Object(k.useMemo)((function(){var e=Object(Y.stringify)(Object(K.decamelizeKeys)($()(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),h&&{isChild:!0}),{},{rootCommentId:void 0,isChild:void 0,anchorCommentId:null!=h?h:g},O&&{openEditor:!0,replyCommentId:g,replyRootCommentId:h,replyAuthorName:v}),d&&{listHeight:d,maskTransparent:!0}),void 0!==b&&{maskTransparent:b}),Boolean))),t=m,n=u;return o.resourceType&&o.resourceType!==u&&(n=o.resourceType,t=o.resourceId),"https://www.zhihu.com/comment/list/".concat(n,"/").concat(t,"?").concat(e)}),[o,u,m,g,h,v,O,d,b]);return Object(Z.f)(X.b,Object.assign({as:"div",ref:t,href:j,onClick:function(e){if(!C.ZhihuHybrid)return e.preventDefault(),void p();null==i||i(e),null==f||f()}},s),Object(Z.f)("div",{ref:c,onClick:ye((function(e){e.stopPropagation()}),1e3),css:a},r))})),we=function(e){u()(n,e);var t=se(n);function n(){var e;c()(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t,n){var o=e.props,r=o.onObserve,a=o.onChange;r&&r(t),t.forEach((function(e){a&&a(e,n)}))},e}return s()(n,[{key:"componentDidMount",value:function(){var e=Object(te.findDOMNode)(this);e&&(this.observer=this.createObserver(),this.observer.observe(e))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null)}},{key:"createObserver",value:function(){var e=this.props,t=e.root,n=e.rootMargin,o=e.threshold,r=e.trackVisibility,a=e.delay;return new window.IntersectionObserver(this.handleChange,{root:t,rootMargin:n,threshold:o,trackVisibility:r,delay:a})}},{key:"render",value:function(){return this.props.children}}]),n}(k.Component);function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}we.propTypes={root:T.a.object,rootMargin:T.a.string,threshold:T.a.oneOfType([T.a.number,T.a.arrayOf(T.a.number)]),trackVisibility:T.a.bool,delay:T.a.number,onObserve:T.a.func,onChange:T.a.func};var Ie=function(e){u()(n,e);var t=se(n);function n(){var e;c()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),ke(r()(e),"trackCardShowTimer",null),ke(r()(e),"handleIntersectionChange",(function(t,n){if(t.isIntersecting&&t.intersectionRatio>0){n.disconnect();var o=e.props,a=o.view,c=void 0===a?{}:a,i=o.extra;e.trackCardShowTimer=setTimeout((function(){B.a.trackCardShow(r()(e),c,i)}))}})),e}return s()(n,[{key:"componentDidMount",value:function(){this.setModule()}},{key:"componentDidUpdate",value:function(){this.setModule()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.trackCardShowTimer)}},{key:"setModule",value:function(){var e=this.props,t=e.module,n=e.index,o=e.isAd,r=e.moduleName,a=e.content,c=e.list,i=e.card,s=e.attachedInfoBytes;if(t){var l=Object(te.findDOMNode)(this);l&&B.a.setModule(l,{module:t,index:n,is_ad:o,module_name:r},function(e,t,n,o){return Object.assign(Object.assign(Object.assign(Object.assign({},e&&{card:{content:e}}),t&&{card:t}),n&&{list:n}),o&&{attached_info_bytes:o})}(a,i,c,s))}}},{key:"render",value:function(){var e=this.props,t=e.visibleThreshold,n=e.trackCardShow,o=e.children;return n?Object(Z.f)(we,{threshold:t,onChange:this.handleIntersectionChange},o):o}}]),n}(k.Component);ke(Ie,"propTypes",{id:T.a.string,module:T.a.string,moduleName:T.a.string,index:T.a.number,isAd:T.a.bool,content:T.a.object,extra:T.a.object,trackCardShow:T.a.bool,attachedInfoBytes:T.a.string}),ke(Ie,"defaultProps",{id:null,module:null,index:null,isAd:!1,content:null,extra:null,attachedInfoBytes:null,trackCardShow:!1,visibleThreshold:0});var Se={avatarUrl:"https://pic4.zhimg.com/50/da8e974dc_s.jpg",badge:null,id:"0"},Te=["1","0.7","0.4"],Le={name:"y94coq-CommentInput",styles:"display:flex;align-items:center;justify-content:space-between;width:100%;;label:CommentInput;"},Ae={name:"15hob7-CommentInput",styles:"width:100%;align-items:center;;label:CommentInput;"},ze={name:"1qhwv8r-CommentInput",styles:"line-height:normal;;label:CommentInput;"},Ne={name:"yi8ge9-CommentInput",styles:"height:34px;align-items:center;margin-right:4px;;label:CommentInput;"},Be=function(e){var t=e.inputPlaceholder,n=e.emoticons,o=e.currentUserId,r=Object(V.b)(),a=(null==r?void 0:r.ZhihuHybrid)||(null==r?void 0:r.Zhihu),c=Object(k.useState)([]),i=h()(c,2),s=i[0],l=i[1],u=Object(k.useState)(Se),m=h()(u,2),f=m[0],d=m[1];return Object(k.useEffect)((function(){n.length>0&&N.a.dispatch("base/getFrequentlyUsedEmoticon",{count:3}).then((function(e){if(null==e?void 0:e.data)return l(e.data.map((function(e){return t=e,n.find((function(e){return e.placeholder===t}));var t})))}))}),[n]),Object(k.useEffect)((function(){o?N.a.dispatch("base/getData",{type:"people",id:o}).then((function(e){var t=e.data;t&&d(Object(K.camelizeKeys)(t))})):N.a.dispatch("account/me").then((function(e){if(null==e?void 0:e.url_token){var t=e.avatar_url,n=e.url_token,o=e.badge_v2,r=e.badge;d({avatarUrl:t,id:n,badgeV2:o,badge:r})}}))}),[o]),Object(Z.f)(E.Flex,{css:Ae},Object(Z.f)(le,{user:f,isHybrid:a}),Object(Z.f)(Ie,{module:"CommentEditView"},Object(Z.f)(xe,{as:E.Flex,query:{openEditor:!0},css:function(e){return{flex:1,border:"1px solid ".concat(e.colors.GBK09A),marginLeft:"10px",borderRadius:"8px",height:"36px",paddingLeft:"10px",fontSize:"13px",color:e.colors.GBK06A}},innerStyle:Le,onClick:function(e){return B.a.trackEvent(e.target,{id:1203,action:"Click"})}},Object(Z.f)(E.Text,{css:ze},t||"写下你的评论..."),s.length>0&&Object(Z.f)(E.Flex,{css:Ne},s.filter(Boolean).map((function(e,t){var n=e.static_image_url,o=e.title;return Object(Z.f)("img",{key:o,src:n,css:Object(G.a)({width:"20px",height:"20px",marginRight:"4px",opacity:Te[t]},";label:CommentInput;")})}))))))},Ee={hybrid:{username:{fontSize:14,color:"GBK02A"},authorTag:{fontSize:13},content:{lineHeight:"21px"},commentTag:{fontSize:12,height:20,lineHeight:"16px",color:"GBK06A",marginTop:"6px"}},web:{username:{fontSize:15,color:"GBK03A"},authorTag:{fontSize:15},content:{lineHeight:"24px"},commentTag:{fontSize:14,height:24,lineHeight:"24px",color:"GBL05A",marginTop:"4px"}}};function He(e){var t=e.name,n=e.nicknameColor,o=void 0===n?{}:n,r=e.showLevelInfo,a=e.isOrg,c=e.id,i=e.className,s=e.uaType,l=Object(J.f)(),u=o.color,m=o.nightModeColor,f=Boolean(r&&u&&m&&!a),d=l.isDarkMode?m:u,b=l.isDarkMode?"#999999":"#1a1a1a",p=f?d:b,h="0"===c||""===c,g=h?E.Text:X.b,O=Ee[s].username,v=O.fontSize,C=O.color;return Object(Z.f)(g,Object.assign({},!h&&{href:"https://www.zhihu.com/".concat(a?"org":"people","/").concat(c),as:E.Text},{color:p||C,fontSize:v,fontWeight:"bold",lineHeight:"16px",css:Object(G.a)([{flex:"0 1 auto"},Object(J.d)(1)],";label:LevelInfoName;"),className:i}),t)}var Re={name:"1ronkat-AuthorLevelIcon",styles:"margin-left:6px;height:16px;display:flex;align-items:center;;label:AuthorLevelIcon;"};function Fe(e){var t=e.levelInfo,n=void 0===t?{}:t,o=n.level,r=n.iconInfo,a=r.url,c=r.nightModeUrl,i=Object(J.f)().isDarkMode?c:a;return Object(Z.f)("a",{href:"https://www.zhihu.com/level-detail",css:Re},Object(Z.f)(E.Image,{height:"14px",src:i,alt:"等级 ".concat(o)}))}var Me=["comment_gif","comment_img","comment_sticker"],_e=function(e,t){return e instanceof NodeList?Object(Z.f)(I.a.Fragment,null,[].map.call(e,(function(e,n){return Object(Z.f)(k.Fragment,{key:n},t(e,n))}))):t(e)},Ue={class:"className"},Pe=function(e,t){function n(e,t){return e.nodeType===Node.TEXT_NODE?e.nodeValue:e.nodeType===Node.ELEMENT_NODE?Object(k.createElement)("A"===e.nodeName&&t?X.b:e.tagName.toLowerCase(),e.attributes?Array.from(e.attributes).reduce((function(e,t){return e[Ue[t.name]||t.name]=t.value,e}),{}):{},e.childNodes.length?_e(e.childNodes,n):null):null}return _e(e,(function(e){return t(e,(function(t){return n(e,t)}))}))},De=function(e,t){return e.replace(/(\[[^[^\]]+\])/g,(function(e){var n=t.find((function(t){return t.placeholder===e}));return n?"<img src=".concat(n.static_image_url,' class="sticker" />'):e}))},Ge=I.a.memo((function(e){return function(e){if("undefined"==typeof DOMParser)return Object(Z.f)("div",{dangerouslySetInnerHTML:{__html:e}});var t=(new DOMParser).parseFromString(e,"text/html");return Pe(t.body.childNodes,(function(e,t){return e.nodeType===Node.ELEMENT_NODE?t(!0):e.textContent}))}(e.text)})),Ke=function(e){var t=e.tagInfo,n=e.richText,o=e.responseLink,r=e.className,a=Object(ne.b)().isDarkMode;if(!t)return null;var c=t.text,i=t.color,s=t.nightColor,l=t.hasBorder,u=t.borderColor,m=t.borderNightColor,f=t.targetLink,d=f&&o,b=Object(k.useContext)(ge).openInApp,p=Object(V.b)(),h=Object(z.c)((function(e){d&&!p.ZhihuHybrid&&(e.preventDefault(),b())})),g=d?X.b:"span";return Object(Z.f)(g,Object.assign({css:function(e){return Object.assign(Object.assign(Object.assign({},l&&u&&Object(J.c)({border:"1px solid ".concat(a?m:u),borderRadius:"4px"})),d&&{textDecoration:"none"}),{},{height:"14px",fontSize:"10px",lineHeight:"15px",boxSizing:"border-box",marginLeft:"4px",padding:"0 4px","& a":{color:e.colors.GBL01A,textDecoration:"none"}})},className:r,style:{color:a?s:i},onClick:h},Boolean(d)&&{href:f}),n?Object(Z.f)(Ge,{text:c}):c,Boolean(f)&&Object(Z.f)(R.a,{css:function(e){return{fill:e.colors[i],marginRight:"-2px"}},center:!0,size:12}))};var Ze={answer:"回答",article:"文章",pin:"想法"},Ve={name:"35g1vl-Vip",styles:"margin-left:4px;;label:Vip;"},qe={name:"gcn50p-Vip",styles:"height:14px;width:14px;;label:Vip;"},We=function(e){var t=e.vipInfo,n=t.vipIcon,o=(n=void 0===n?{}:n).url,r=t.isVip,a=Object(k.useContext)(ge),c=a.resourceType,i=a.noZACardShow;return Object(k.useEffect)((function(){B.a.trackCardShow(null,{id:3613,name:Ze[c]})}),[c]),o&&r?Object(Z.f)(X.a,{shouldTrackShow:!i,zaType:"Image",zaBlock:"VIP"},Object(Z.f)("a",{href:"https://www.zhihu.com/vip?entry_privileges_type=member_id",css:Ve,onClick:function(){B.a.trackEvent(null,{id:3612,action:"Click",name:Ze[c]})}},Object(Z.f)(E.Image,{src:o,css:qe}))):null};var Je={name:"oyggkg-UserLine",styles:"align-items:center;line-height:16px;;label:UserLine;"},Xe={name:"t6oasj-UserLine",styles:"margin-left:4px;;label:UserLine;"},Ye=function(e){var t=e.showLevelInfo,n=void 0!==t&&t,o=e.authorTags,r=void 0===o?[]:o,a=e.className,c=e.user,i=e.uaType,s=e.badgeSize,l=void 0===s?14:s,u=c.name,m=c.vipInfo,f=c.levelInfo,d=c.badge,b=c.badgeV2,p=c.isOrg,h=c.id;return Object(Z.f)(E.Flex,{css:Je,className:a},Object(Z.f)(He,Object.assign({name:u},f,{isOrg:p,id:h,showLevelInfo:n,uaType:i})),n&&f&&Object(Z.f)(Fe,{levelInfo:f}),r.map((function(e){return Object(Z.f)(Ke,{key:e.text,responseLink:!0,richText:!0,tagInfo:e})})),(null!=b?b:d)&&"hybrid"!==i&&Object(Z.f)(W.c,{size:l,badge:null!=b?b:d,css:Xe}),m&&Object(Z.f)(We,{vipInfo:m}))};var Qe={name:"186dd9b-UnfoldButton",styles:"height:21px;;label:UnfoldButton;"},$e=function(e){var t=e.onClick,n=Object(J.f)().colors,o=n.GBK04A,r=n.GBK99A;return Object(Z.f)("span",{css:Object(G.a)({position:"absolute",right:0,bottom:0,paddingLeft:18,backgroundImage:"linear-gradient(90deg, ".concat(Object(J.b)(r).alpha(0),", ").concat(r," 25%, ").concat(r,")"),display:"inline-block",color:o},";label:UnfoldButton;"),onClick:t},"展开",Object(Z.f)(F.a,{center:!0,color:o,css:Qe}))},et=function(e){var t=e.comment,n=t.content,o=t.collapsed,r=t.isDeleted,a=t.id,c=e.emoticons,i=e.className,s=e.rootCommentId,l=e.unfoldable,u=e.uaType,m=!o&&!r,f=Object(k.useRef)(),d=Object(k.useRef)(),b=Object(k.useState)(!1),p=h()(b,2),g=p[0],O=p[1],v=Object(k.useState)(!1),C=h()(v,2),j=C[0],y=C[1],x=Object(k.useMemo)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("undefined"==typeof DOMParser)return Object(Z.f)("div",{dangerouslySetInnerHTML:{__html:e}});var n=De(e,t),o=new DOMParser,r=o.parseFromString(n,"text/html");return Pe(r.body.childNodes,(function(e,t){return e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("sticker")?t(!1):e.nodeType===Node.ELEMENT_NODE&&e.textContent.match("http")?t(!0):e.textContent}))}(n,null!=c?c:[])}),[n,c]),w=Ee[u].content.lineHeight;Object(k.useLayoutEffect)((function(){var e,t;l&&!j&&(null===(e=f.current)||void 0===e?void 0:e.clientHeight)<(null===(t=d.current)||void 0===t?void 0:t.clientHeight)&&O(!0)}),[f,d,O,j,l]);var I=Object(z.c)((function(e){B.a.trackEvent(e.target,{id:1201,action:"OpenUrl",element_name:"Body"});var t,n=e.target;if(Me.some((function(e){return n.classList.contains(e)}))){var o=n.href;o&&(t=o,N.a.dispatch("base/openImage",{images:[t],index:0})),e.preventDefault()}})),S=Object(z.c)((function(e){e.stopPropagation(),y(!0)}));return Object(Z.f)(xe,{ref:f,innerRef:d,as:E.Box,onClick:I,fontSize:"15px",lineHeight:w,color:m?"GBK03A":"GBK07A",mt:"6px",css:Object(G.a)(Object.assign(Object.assign(Object.assign({position:"relative",overflowWrap:"break-word"},!j&&Object(J.d)(2)),l&&!j&&{display:"block",overflow:"hidden",maxHeight:42}),{},{img:{width:"1.24em",height:"1.24em",marginBottom:"-0.25em"}}),";label:CommentContent;"),className:i,zaType:"Card",query:{rootCommentId:s,anchorCommentId:a}},x,g&&!j&&Object(Z.f)($e,{onClick:S}))},tt=function e(t){var n=function(e,t){return Object.keys(t).reduce((function(e,n){var o=e[n];if(delete e[n],o){var r=t[n],a="function"==typeof r?r(e):r;return Object.assign(Object.assign(Object.assign({},e),a),a&&a.style&&{style:Object.assign(Object.assign({},e.style),a.style)})}return e}),Object.assign({},e))}(t,e.mapProps),o=n.name,r=n.className,a=n.defaultClassName,c=n.size,i=n.center,s=y()(n,ie),l=Object(Z.f)("svg",Object.assign({className:"".concat(a," ").concat(a,"--").concat(o).concat(r?" ".concat(r):"")},s,c&&{width:c,height:c}));return i?Object(Z.f)("span",{style:e.strutStyle},"​",l):l};tt.defaultProps={defaultClassName:"Icon",fill:"currentColor"},tt.mapProps={text:{size:"1.2em"}},tt.strutStyle={display:"inline-flex",alignItems:"center"};var nt=function(e){return Object(Z.f)(tt,Object.assign({viewBox:"0 0 24 24"},e),Object(Z.f)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C16.9706 3 21 7.02944 21 12C21 12.9242 20.7842 14.037 20.3617 15.3551C20.2673 15.6497 20.2603 15.9655 20.3417 16.264L20.4506 16.64C21.073 18.8462 21.1396 20.1542 20.6504 20.5641C20.1634 20.972 18.8358 20.9294 16.6675 20.4363L16.264 20.3417C15.9655 20.2603 15.6497 20.2673 15.3551 20.3617C14.037 20.7842 12.9242 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3ZM12 4.61093C7.9191 4.61093 4.6109 7.91913 4.6109 12C4.6109 16.0809 7.9191 19.3891 12 19.3891C12.7277 19.3891 13.6797 19.2071 14.8633 18.8277C15.4548 18.6381 16.0886 18.6241 16.6417 18.7757C17.687 19.0279 18.5219 19.1739 19.1295 19.2169L19.248 19.2241L19.349 19.228L19.3449 19.1745C19.2933 18.6329 19.1303 17.872 18.846 16.8877L18.7875 16.6878C18.6241 16.0886 18.638 15.4548 18.8276 14.8633C19.2071 13.6797 19.389 12.7277 19.389 12C19.389 7.91913 16.0808 4.61093 12 4.61093Z"}))};nt.defaultProps={name:"CommentLikeNormal"};var ot=function(e){return Object(Z.f)(tt,Object.assign({viewBox:"0 0 43 41"},e),Object(Z.f)("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.417 35.624L10.37 40.38a1.734 1.734 0 0 1-2.516-1.829l1.728-10.073a4.625 4.625 0 0 0-1.33-4.094L.933 17.25a1.734 1.734 0 0 1 .961-2.958l10.114-1.47a4.625 4.625 0 0 0 3.483-2.53l4.523-9.165a1.734 1.734 0 0 1 3.11 0l4.524 9.166a4.625 4.625 0 0 0 3.482 2.53l10.114 1.47a1.734 1.734 0 0 1 .961 2.957l-7.319 7.134a4.625 4.625 0 0 0-1.33 4.094l1.728 10.073a1.734 1.734 0 0 1-2.516 1.829l-9.047-4.756a4.625 4.625 0 0 0-4.304 0z"}))};ot.defaultProps={name:"Star"};var rt=function(e){return Object(Z.f)(tt,Object.assign({viewBox:"0 0 43 41"},e),Object(Z.f)("g",{fillRule:"evenodd"},Object(Z.f)("path",{d:"M19.417 35.624L10.37 40.38a1.734 1.734 0 0 1-2.516-1.829l1.728-10.073a4.625 4.625 0 0 0-1.33-4.094L.933 17.25a1.734 1.734 0 0 1 .961-2.958l10.114-1.47a4.625 4.625 0 0 0 3.483-2.53l4.523-9.165a1.734 1.734 0 0 1 3.11 0l4.524 9.166a4.625 4.625 0 0 0 3.482 2.53l10.114 1.47a1.734 1.734 0 0 1 .961 2.957l-7.319 7.134a4.625 4.625 0 0 0-1.33 4.094l1.728 10.073a1.734 1.734 0 0 1-2.516 1.829l-9.047-4.756a4.625 4.625 0 0 0-4.304 0z",opacity:".2"}),Object(Z.f)("path",{d:"M21.5.162v34.931c-.716.01-1.43.188-2.083.53L10.37 40.38a1.734 1.734 0 0 1-2.516-1.829l1.728-10.073a4.625 4.625 0 0 0-1.33-4.094L.933 17.25a1.734 1.734 0 0 1 .961-2.958l10.114-1.47a4.625 4.625 0 0 0 3.483-2.53l4.523-9.165c.29-.59.872-.94 1.486-.965z"})))};rt.defaultProps={name:"HalfStar"};var at=w()(Array(5)),ct={name:"1341f8n-ScoreBar",styles:"margin-right:2px;;label:ScoreBar;"},it={name:"1341f8n-ScoreBar",styles:"margin-right:2px;;label:ScoreBar;"},st=function(e){var t=e.score/2,n=Object(J.f)().colors.GRD10A,o=Object(J.b)(n).alpha(.2);return Object(Z.f)(E.Flex,{flexDirection:"row",height:"20px",alignItems:"center",mt:"2px"},at.map((function(e,r){var a=function(e,t){return e-t>=0?1:e-t<=-1?0:.5}(t,r+1);return.5===a?Object(Z.f)(rt,{key:"".concat(r,"-").concat(a),css:ct,color:n,size:12}):Object(Z.f)(ot,{key:"".concat(r,"-").concat(a),css:it,color:a?n:o,size:12})})))},lt=function(e){return Object(Z.f)(tt,Object.assign({viewBox:"0 0 24 24"},e),Object(Z.f)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 4.07782C8.5 2.24411 10.4861 1.09899 12.0731 2.01775C13.7298 2.9769 14.663 4.82463 14.4516 6.72727L14.3379 7.74996H17.9194C20.4493 7.74996 22.2533 10.2038 21.4987 12.6185L19.6761 18.4508C19.1559 20.1155 17.5599 21.197 15.8279 21.0902C13.456 20.9438 9.78636 20.75 7 20.75H4.49936C3.53225 20.75 2.75 19.9658 2.75 19V9.49996C2.75 8.53346 3.5335 7.74996 4.5 7.74996H5.1371C6.55156 7.74996 7.81995 6.87883 8.32771 5.55864C8.4416 5.26254 8.5 4.94801 8.5 4.63076V4.07782ZM11.3215 3.31589C10.7346 2.97608 10 3.39961 10 4.07782V4.63076C10 5.13211 9.90771 5.62918 9.72773 6.09711C8.99716 7.99659 7.17222 9.24996 5.1371 9.24996H4.5C4.36193 9.24996 4.25 9.36189 4.25 9.49996V19C4.25 19.1386 4.36191 19.25 4.49936 19.25H7C9.83637 19.25 13.5459 19.4465 15.9203 19.593C16.9721 19.6579 17.9327 19.0008 18.2444 18.0034L20.067 12.1711C20.5198 10.7222 19.4374 9.24996 17.9194 9.24996H13.5C13.2867 9.24996 13.0834 9.15911 12.9412 9.00015C12.7989 8.84119 12.731 8.62916 12.7546 8.41713L12.9608 6.56162C13.1065 5.25035 12.4633 3.97693 11.3215 3.31589Z"}))};lt.defaultProps={name:"CommentLikeNormal"};var ut=function(e){return Object(Z.f)(tt,Object.assign({viewBox:"0 0 24 24"},e),Object(Z.f)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 4.07782C8.5 2.24411 10.4861 1.09899 12.0731 2.01775C13.7298 2.9769 14.663 4.82463 14.4516 6.72727L14.3379 7.74996H17.9194C20.4493 7.74996 22.2533 10.2038 21.4987 12.6185L19.6761 18.4508C19.1559 20.1155 17.5599 21.197 15.8279 21.0902C13.456 20.9438 9.78636 20.75 7 20.75H4.49936C3.53225 20.75 2.75 19.9658 2.75 19V9.49996C2.75 8.53346 3.5335 7.74996 4.5 7.74996H5.1371C6.55156 7.74996 7.81995 6.87883 8.32771 5.55864C8.4416 5.26254 8.5 4.94801 8.5 4.63076V4.07782Z",fill:"#0066FF"}))};ut.defaultProps={name:"CommentLikeActive"};var mt=function(e){var t=e.comment,n=e.rootCommentId,o=t.likeCount,r=t.liked,a=Object(V.b)(),c=Object(k.useRef)(!1),i=Object(k.useContext)(ge),s=i.dispatch,l=i.fetcher,u=i.authRequired,m=i.openInApp,f=r?ut:lt,d=Object(oe.a)(),b=Object(z.c)(C()(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){N.a.dispatch("iOS/hapticFeedback")}),300),e.next=3,d.start({scale:1.3,transition:{type:"tween",duration:.2,ease:[0,0,.58,1]}});case 3:return e.next=5,d.start({scale:1,transition:{type:"tween",duration:.3,ease:[.42,0,.2,1.8]}});case 5:case"end":return e.stop()}}),e)})))),p=Object(z.c)(function(){var e=C()(O.a.mark((function e(o){var i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ZhihuHybrid){e.next=3;break}return m(),e.abrupt("return");case 3:if(!c.current){e.next=5;break}return e.abrupt("return");case 5:return c.current=!0,B.a.trackEvent(o,{action:r?"UnUpvote":"Upvote",id:r?1444:1202}),"like"===(i=r?"dislike":"like")&&b(),e.prev=9,e.next=12,l("/api/v4/comment_v5/comment/".concat(t.id,"/reaction/").concat(i),{method:"PUT"});case 12:s({type:ve,payload:{nextAction:i,id:t.id,rootCommentId:n}}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),N.a.dispatch("ui/showToast",{icon:"fail",text:e.t0&&e.t0.toastMsg||"操作失败"});case 18:return e.prev=18,c.current=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[9,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()),h=a.ZhihuHybrid?"":"赞";return Object(Z.f)(I.a.Fragment,null,Object(Z.f)(P.a,{zaType:"Button",zaAction:r?"UnUpvote":"Upvote",as:D.b.button,css:function(){return{marginLeft:"16px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,color:"inherit",font:"inherit",background:"none",outline:"none",border:"none",appearance:"none"}},initial:{scale:1},animate:d,onClick:u(p)},a.ZhihuHybrid?Object(Z.f)(f,{size:20,css:function(e){return{fill:e.colors.GBK06A}}}):Object(Z.f)(M.a,{size:16,css:function(e){return{fill:e.colors.GBL05A}}})),Object(Z.f)("span",{css:function(e){return{marginLeft:"4px",color:e.colors[r?"GBL01A":"GBK06A"]}}},o>0?Object(H.cnNiceNumber)(o):h))},ft={name:"1xugp30-CommentFooter",styles:"flex-direction:column;;label:CommentFooter;"},dt={name:"860uge-CommentFooter",styles:"height:auto;padding:0;font-size:11px;line-height:16px;margin-top:6px;&:first-of-type{margin-left:0;};label:CommentFooter;"},bt={name:"mtl4uv-CommentFooter",styles:"flex-shrink:0;align-items:baseline;;label:CommentFooter;"},pt={name:"19bza57-CommentFooter",styles:"flex-shrink:0;align-items:center;;label:CommentFooter;"},ht=function(e){var t=e.comment,n=e.rootCommentId,o=e.className,r=e.uaType,a=e.isSecondary,c=t.score,i=t.createdTime,s=t.contentTag,l=t.commentTag,u=t.canLike,m=t.resourceId,f=t.resourceType,d=Object(k.useContext)(ge).showInteractions,b=Ee[r].commentTag,p=b.fontSize,h=b.color,g=b.height,O=b.lineHeight,v=b.marginTop,C="hybrid"===r;return Object(Z.f)(E.Flex,{css:ft,className:o},c>0&&Object(Z.f)(st,{score:c}),Object(Z.f)(E.Flex,{flexDirection:"row"},s.map((function(e){return Object(Z.f)(Ke,{key:e.text,richText:!0,tagInfo:e,css:dt})}))),Object(Z.f)(E.Flex,{fontSize:p,justifyContent:"space-between",alignItems:"center",height:g,lineHeight:O,mt:v,color:h},Object(Z.f)(E.Flex,{css:bt},Object(Z.f)("span",null,Object(re.toSmartString)(i),Boolean(l.length)&&" · "),l.map((function(e){return Object(Z.f)(Ke,{key:e.text,tagInfo:e,css:Object(G.a)({fontSize:p,paddingLeft:0,paddingRight:0},";label:CommentFooter;")})}))),d&&Object(Z.f)(E.Flex,{css:pt},Object(Z.f)(xe,{query:{openEditor:!0,anchorCommentId:t.id,rootCommentId:n,replyAuthorName:t.author.name,resourceId:m,resourceType:f}},C?Object(Z.f)(nt,{size:20,center:!0}):Object(Z.f)(_.a,{size:18,center:!0}),!C&&!a&&Object(Z.f)("span",{css:function(e){return{marginLeft:"4px",color:e.colors.GBL05A}}},"回复")),(!C||u)&&Object(Z.f)(mt,{comment:t,rootCommentId:n}))))};var gt={name:"1dcx2oz-SecondaryCommentComponent",styles:"flex-direction:column;;label:SecondaryCommentComponent;"},Ot={name:"4hy4b-SecondaryCommentComponent",styles:"margin-top:4px;;label:SecondaryCommentComponent;"},vt={name:"1eevzca-SecondaryCommentComponent",styles:"width:24px;height:24px;;label:SecondaryCommentComponent;"},Ct={name:"12bc2ol-SecondaryCommentComponent",styles:"flex:1;flex-direction:column;margin-left:8px;;label:SecondaryCommentComponent;"},jt={name:"1vk1mee-SecondaryCommentComponent",styles:"font-weight:normal;;label:SecondaryCommentComponent;"},yt={name:"mwmz17-SecondaryCommentComponent",styles:"margin-top:-4px;;label:SecondaryCommentComponent;"},xt=function(e){var t=e.comment,n=e.emoticons,o=e.rootCommentId,r=e.uaType,a=e.noZACardShow,c=a?E.Flex:P.e,i=a?null:{as:E.Flex,zaType:"Card"},s=t.author,l=t.authorTag,u=t.index,m=t.id,f=t.replyToAuthor,d=t.replyAuthorTag,b=Ee[r].authorTag.fontSize,p=Object(V.b)(),h=(null==p?void 0:p.ZhihuHybrid)||(null==p?void 0:p.Zhihu);return Object(Z.f)(E.Flex,{css:gt},Object(Z.f)(P.b,{content:{type:"Comment",id:t.id}},Object(Z.f)(Ie,{module:"CommentItem",index:u,card:{content:{type:"Comment",id:m}},view:{id:1199},trackCardShow:!0},Object(Z.f)(c,Object.assign({},i,{css:Ot}),Object(Z.f)(le,{user:s,css:vt,badgeSize:13,isHybrid:h}),Object(Z.f)(E.Flex,{css:Ct},Object(Z.f)("div",{css:function(e){return{display:"flex",fontSize:b,color:e.colors.GBK03A,alignItems:"center",fontWeight:"bold",lineHeight:"16px"}}},Object(Z.f)("div",null,s.name),l.map((function(e){return Object(Z.f)(Ke,{key:e.text,tagInfo:e,css:jt})})),f&&Object(Z.f)(I.a.Fragment,null,Object(Z.f)(R.a,{size:12,center:!0,css:function(e){return{marginRight:"4px",fill:e.colors.GBK06A}}}),Object(Z.f)("div",null,f.name),d.map((function(e){return Object(Z.f)(Ke,{key:e.text,tagInfo:e})})))),Object(Z.f)(et,{comment:t,emoticons:n,rootCommentId:o,uaType:r,css:function(e){return{marginTop:"4px",color:e.colors.GBK04A}}}),Object(Z.f)(ht,{comment:t,rootCommentId:o,css:yt,uaType:r,isSecondary:!0}))))))},wt=function(e){var t=e.id,n=e.count,o=e.offsetLeft;return n?Object(Z.f)(xe,{as:E.Text,css:Object(G.a)({display:"flex",justifyContent:"flex-start",marginTop:"8px",marginLeft:o},";label:SecondaryCommentShowAll;"),innerStyle:function(e){return{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:"12px",height:"28px",background:e.colors.GBK10A,color:e.colors.GBK03A,padding:"0 10px 0 16px",borderRadius:"14px"}},query:{rootCommentId:t}},Object(Z.f)("span",null,"查看全部"," ".concat(Object(H.cnNiceNumber)(n)),"条回复"),Object(Z.f)(U.a,{center:!0,size:18,css:function(e){return{fill:e.colors.GBK03A}}})):null};var kt={name:"41k5ss-SecondaryComments",styles:"border-radius:8px;flex-direction:column;margin-top:6px;margin-left:40px;;label:SecondaryComments;"},It=function(e){var t=e.comments,n=e.count,o=e.emoticons,r=e.rootCommentId,a=e.uaType,c=Object(k.useContext)(ge),i=c.showLevelInfo,s=c.showSecondaryComment,l=c.showSecondaryCommentButton,u=c.noZACardShow;return!s&&!l||0===t.length?null:Object(Z.f)(E.Flex,{css:kt},s&&t.map((function(e,t){return Object(Z.f)(P.b,{content:{type:"Comment",id:e.id},key:e.id},Object(Z.f)(Ie,{module:"CommentItem",content:{type:"Comment",id:e.id},index:t,view:{id:1199},trackCardShow:!0},Object(Z.f)(xt,{comment:e,showLevelInfo:i,emoticons:o,rootCommentId:r,uaType:a,noZACardShow:u})))})),l&&Object(Z.f)(wt,{id:r,count:n,offsetLeft:s?32:0}))};var St={name:"ggkfz0-CommentItem",styles:"flex-direction:column;;label:CommentItem;"},Tt={name:"10bw6yb-CommentItem",styles:"margin-top:16px;;label:CommentItem;"},Lt={name:"1xuwofq-CommentItem",styles:"flex:1;flex-direction:column;margin-left:10px;;label:CommentItem;"},At=function(e){var t=e.comment,n=e.showLevelInfo,o=e.showInteractions,r=e.emoticons,a=t.author,c=t.authorTag,i=t.childComments,s=void 0===i?[]:i,l=t.childCommentCount,u=t.index,m=t.id,f=Object(V.b)(),d=(null==f?void 0:f.ZhihuHybrid)||(null==f?void 0:f.Zhihu),b=d?"hybrid":"web",p=Object(k.useContext)(ge),h=p.commentUnfoldable,g=p.noZACardShow,O=g?E.Flex:P.e,v=g?null:{as:E.Flex,zaType:"Card"};return Object(Z.f)(E.Flex,{css:St},Object(Z.f)(P.b,{content:{type:"Comment",id:t.id}},Object(Z.f)(Ie,{module:"CommentItem",index:u,card:{content:{type:"Comment",id:m}},view:{id:1199},trackCardShow:!0},Object(Z.f)(O,Object.assign({},v,{css:Tt}),Object(Z.f)(le,{user:a,isHybrid:d}),Object(Z.f)(E.Flex,{css:Lt},Object(Z.f)(Ye,{user:a,showLevelInfo:n,authorTags:c,uaType:b}),Object(Z.f)(et,{unfoldable:h,comment:t,emoticons:r,uaType:b}),Object(Z.f)(ht,{comment:t,showInteractions:o,uaType:b}))))),Object(Z.f)(It,{comments:s,count:l,emoticons:r,rootCommentId:m,uaType:b}))};var zt={name:"1xcn102-PreviewCommentContent",styles:"margin:0 16px 40px;flex-direction:column;;label:PreviewCommentContent;"},Nt={name:"xpd3m8-PreviewCommentContent",styles:"font-size:15px;font-weight:500;margin-bottom:16px;;label:PreviewCommentContent;"},Bt={name:"tihhxc-PreviewCommentContent",styles:"height:18px;;label:PreviewCommentContent;"},Et=function(e){var t,n=e.className,o=e.showLevelInfo,r=e.showInteractions,a=e.resourceType,c=e.resourceId,i=e.currentUserId,s=void 0===i?"":i,l=e.showCommentInput,u=e.inputPlaceholder,m=e.customHeader,f=e.customFooter,d=e.onCommentChange,b=e.commentType,p=void 0===b?"abstract_comment":b,g=e.onLoad,O=Object(k.useState)([]),v=h()(O,2),C=v[0],j=v[1],y=Object(k.useContext)(ge),x=y.fetcher,S=y.data,T=y.dispatch,L=Object(z.h)(S),A=Object(z.c)(d),R=Object(z.c)((function(){x("/api/v4/comment_v5/".concat(a,"s/").concat(c,"/").concat(p)).then((function(e){return T({type:Oe,payload:e})}))}));Object(k.useEffect)(R,[R]),Object(k.useEffect)((function(){var e=N.a.listen("base/onMessage",(function(e){var t=e.type,n=e.data;if("comment/listChange"===t){var o=n.status;n.resourceType===a&&String(n.resourceId)===String(c)&&(R(),A(o))}}));return function(){return e()}}),[]);var F=1===(null==S||null===(t=S.commentStatus)||void 0===t?void 0:t.type);if(Object(k.useEffect)((function(){F||Object(q.loadScript)("https://unpkg.zhimg.com/@cfe/emoticon@1.2.3/lib/emoticon.js").then((function(){return window.zh_emoticon?window.zh_emoticon.reduce((function(e,t){var n;return[].concat(w()(e),w()(null!==(n=t.stickers)&&void 0!==n?n:[]))}),[]):[]})).then(j)}),[F]),Object(k.useEffect)((function(){!L&&S&&(null==g||g())}),[L,S,g]),!S)return null;var M=S.counts.totalCounts,_=S.data,P=void 0===_?[]:_;if(F)return null;var D=M>0?Object(H.cnNiceNumber)(M):"";return Object(Z.f)(E.Flex,{className:n,css:zt},m?m(D):Object(Z.f)(E.Box,{color:"GBK02A",css:Nt},"评论 ".concat(D)),l&&Object(Z.f)(Be,{inputPlaceholder:u,emoticons:C,currentUserId:s}),P.map((function(e,t){return Object(Z.f)(At,{key:e.id,comment:e,showLevelInfo:o,showInteractions:r,emoticons:C,index:t})})),P.length>0&&Object(Z.f)(Ie,{module:"CommentList"},Object(Z.f)(xe,{as:E.Flex,css:function(e){return{marginTop:"20px",color:e.colors.GBK06A,fontSize:"13px",width:"100%",justifyContent:"center",lineHeight:"normal",alignItems:"center"}},onClick:function(e){return B.a.trackEvent(e.target,{id:1204,action:"OpenUrl",element_name:"ViewAll"})}},f?f(D):Object(Z.f)(I.a.Fragment,null,Object(Z.f)("span",{css:Bt},"查看全部评论"),Object(Z.f)(U.a,{size:18,center:!0,css:function(e){return{color:e.colors.GBK06A,marginLeft:"4px"}}})))))};Et.propTypes={className:T.a.string,showCommentInput:T.a.bool,showLevelInfo:T.a.bool.isRequired,showSecondaryComment:T.a.bool,showSecondaryCommentButton:T.a.bool,listHeight:T.a.number,maskTransparent:T.a.bool,commentUnfoldable:T.a.bool,resourceType:T.a.string.isRequired,resourceId:T.a.string.isRequired,currentUserId:T.a.string,inputPlaceholder:T.a.string,redirectUrl:T.a.string,customHeader:T.a.func,customFooter:T.a.func,noZACardShow:T.a.bool,onCommentChange:T.a.func,onLoad:T.a.func,preProxy:T.a.func,requestHost:T.a.string,commentType:T.a.string,showInteractions:T.a.bool},Et.defaultProps={showLevelInfo:!1,showInteractions:!0,showCommentInput:!0,showSecondaryComment:!0,showSecondaryCommentButton:!0,commentUnfoldable:!1,noZACardShow:!1,onCommentChange:A.a};var Ht=I.a.forwardRef((function(e,t){return Object(Z.f)(je,e,Object(Z.f)(D.a,null,Object(Z.f)(P.b,{block:"Comment"},Object(Z.f)(Et,Object.assign({},e,{ref:t})))))}));t.a=Ht}}]);
//# sourceMappingURL=column.lib_38cf5c11.20155d8ef0c53b58ad7b.js.map